<table>
  <tbody>
    <tr *ngFor="let row of rows">
      <td class="category" [ngStyle]="{'color': row.optional ? 'grey' : 'black'}">{{row.name}}</td>
      <ng-container *ngFor="let sel of row.selectables" class="col-3">

        <ng-container *ngIf="sel.kind === 'box'">
          <td class="box">
            <input type="checkbox" [(ngModel)]="sel.value"
                   (click)="update($event)" id="{{sel.name}}box"/>
          </td>
          <td class="title">
            <label [ngClass]="{'selected': sel.value}"
                   for="{{sel.name}}box">
              {{sel.name}}
            </label>
          </td>
          <app-variables *ngIf="sel.variables.length > 0"
                         style="max-width: 150px"
                         (clickEvent)="update($event)"
                         [variables]="sel.variables"></app-variables>
        </ng-container>

        <ng-container *ngIf="sel.kind === 'group'">
          <ng-container *ngFor="let option of sel.options">
            <td class="radio box">
              <input type="radio"
                     id="{{sel.name + option.name}}box"
                     (click)="update($event)"
                     [name]="sel.name"
                     [value]="option.name"
                     [(ngModel)]="sel.value"/>
            </td>
            <td class="radio title">
              <label for="{{sel.name + option.name}}box"
                     [ngClass]="{'selected': (option.name === sel.value)}">
                {{option.name}}
              </label>
            </td>
            <app-variables *ngIf="option.variables.length > 0"
                           style="max-width: 150px"
                           (clickEvent)="update($event)"
                           [variables]="option.variables"></app-variables>
          </ng-container>
        </ng-container>
      </ng-container>
    </tr>
  </tbody>
</table>
